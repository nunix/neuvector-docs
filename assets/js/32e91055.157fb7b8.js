"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[1671],{99668:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>a,contentTitle:()=>s,default:()=>h,frontMatter:()=>l,metadata:()=>i,toc:()=>c});var r=o(74848),t=o(28453);const l={title:"General Guidelines",taxonomy:{category:"docs"},slug:"/special/general"},s=void 0,i={id:"special/general/general",title:"General Guidelines",description:"Testing NeuVector Using the Allinone Container",source:"@site/versioned_docs/version-5.2/13.special/01.general/01.general.md",sourceDirName:"13.special/01.general",slug:"/special/general",permalink:"/5.2/special/general",draft:!1,unlisted:!1,editUrl:"https://github.com/neuvector/docs/edit/main/versioned_docs/version-5.2/13.special/01.general/01.general.md",tags:[],version:"5.2",sidebarPosition:1,frontMatter:{title:"General Guidelines",taxonomy:{category:"docs"},slug:"/special/general"},sidebar:"tutorialSidebar",previous:{title:"13. Special Use Cases With Allinone",permalink:"/5.2/special"},next:{title:"Mirantis Kubernetes Engine",permalink:"/5.2/special/docker"}},a={},c=[{value:"Testing NeuVector Using the Allinone Container",id:"testing-neuvector-using-the-allinone-container",level:3},{value:"General Guidelines for Deployment",id:"general-guidelines-for-deployment",level:3},{value:"Helm Deployment",id:"helm-deployment",level:3},{value:"Accessing the Console",id:"accessing-the-console",level:3}];function d(e){const n={a:"a",code:"code",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h3,{id:"testing-neuvector-using-the-allinone-container",children:"Testing NeuVector Using the Allinone Container"}),"\n",(0,r.jsx)(n.p,{children:"The examples in this section deploy the Allinone and Enforcer containers. This is useful for trying out NeuVector. For production deployments where the Manager, Controller, and Enforcers can all be deployed separately, please see the section Deploying NeuVector."}),"\n",(0,r.jsx)(n.h3,{id:"general-guidelines-for-deployment",children:"General Guidelines for Deployment"}),"\n",(0,r.jsx)(n.p,{children:"Prepare your host environment for proper installation. Make sure the NeuVector containers can communicate with each other between hosts. Then review and edit the sample files for you environment."}),"\n",(0,r.jsx)(n.p,{children:"Generally, it is important to do the following:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Label nodes appropriately. If you use node labels to control where the allinone or controller is deployed, label them before deploying."}),"\n",(0,r.jsx)(n.li,{children:"Make sure volumes can be mapped properly. For example"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:"volumes:\n        - /var/neuvector:/var/neuvector\n        - /var/run/docker.sock:/var/run/docker.sock\n        - /proc:/host/proc:ro\n        - /sys/fs/cgroup:/host/cgroup:ro\n"})}),"\n",(0,r.jsxs)(n.ol,{start:"3",children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Open required ports on hosts. Make sure the required ports are mapped properly and open on the host. The allinone requires 8443 (if using the console), 18300, 18301, 18400, and 18401. The Enforcer requires 18301 and 18401."}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"(Docker native only) Edit the CLUSTER_JOIN_ADDR. Find the node IP address, node name (if using a name server, or node variable (if using orchestration tools) for the allinone (controller) to use for the \u201cnode IP\u201d in the sample files for both allinone and enforcer."}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"helm-deployment",children:"Helm Deployment"}),"\n",(0,r.jsxs)(n.p,{children:["Automated deployment using helm is available is at ",(0,r.jsx)(n.a,{href:"https://github.com/neuvector/neuvector-helm",children:"https://github.com/neuvector/neuvector-helm"}),"."]}),"\n",(0,r.jsx)(n.h3,{id:"accessing-the-console",children:"Accessing the Console"}),"\n",(0,r.jsx)(n.p,{children:"Please see the first section Basics -> Connect to Manager for options for turning off https or accessing the console through a corporate firewall which does not allow port 8443 for the console access."})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},28453:(e,n,o)=>{o.d(n,{R:()=>s,x:()=>i});var r=o(96540);const t={},l=r.createContext(t);function s(e){const n=r.useContext(l);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:s(e.components),r.createElement(l.Provider,{value:n},e.children)}}}]);