"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[3017],{27064:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>r,contentTitle:()=>d,default:()=>p,frontMatter:()=>a,metadata:()=>c,toc:()=>o});var i=s(85893),t=s(11151);const a={title:"OpenID Connect (OIDC) for ADFS",taxonomy:{category:"docs"},slug:"/integration/oidc_adfs"},d=void 0,c={id:"integration/oidc_adfs/oidc_adfs",title:"OpenID Connect (OIDC) for ADFS",description:"Integrating with OpenID Connect (OIDC) for ADFS",source:"@site/versioned_docs/version-5.2/08.integration/08.oidc_adfs/08.oidc_adfs.md",sourceDirName:"08.integration/08.oidc_adfs",slug:"/integration/oidc_adfs",permalink:"/5.2/integration/oidc_adfs",draft:!1,unlisted:!1,editUrl:"https://github.com/neuvector/docs/edit/main/versioned_docs/version-5.2/08.integration/08.oidc_adfs/08.oidc_adfs.md",tags:[],version:"5.2",sidebarPosition:8,frontMatter:{title:"OpenID Connect (OIDC) for ADFS",taxonomy:{category:"docs"},slug:"/integration/oidc_adfs"},sidebar:"tutorialSidebar",previous:{title:"OpenID Connect Azure/Okta",permalink:"/5.2/integration/openid"},next:{title:"IBM Security Advisor",permalink:"/5.2/integration/ibmsa"}},r={},o=[{value:"Integrating with OpenID Connect (OIDC) for ADFS",id:"integrating-with-openid-connect-oidc-for-adfs",level:3},{value:"NeuVector Setup",id:"neuvector-setup",level:4}];function l(e){const n={h3:"h3",h4:"h4",img:"img",li:"li",p:"p",ul:"ul",...(0,t.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h3,{id:"integrating-with-openid-connect-oidc-for-adfs",children:"Integrating with OpenID Connect (OIDC) for ADFS"}),"\n",(0,i.jsx)(n.p,{children:'From AD FS Management, click on "Application Groups" and then click on "Add Application Group..."'}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"adfs",src:s(61742).Z+"",width:"1164",height:"201"})}),"\n",(0,i.jsx)(n.p,{children:'Enter a name, select "Server application accessing a web API" and then click Next'}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"adfs",src:s(23017).Z+"",width:"758",height:"612"})}),"\n",(0,i.jsx)(n.p,{children:"Enter Redirect URI from NeuVector Settings > OpenID Connect Setting page and then click Next"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"adfs",src:s(72635).Z+"",width:"758",height:"618"})}),"\n",(0,i.jsx)(n.p,{children:'Enable "Generate a shared secret" checkbox and then click Next'}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"adfs",src:s(43142).Z+"",width:"762",height:"622"})}),"\n",(0,i.jsx)(n.p,{children:"Enter the Identifier created in previous step and then click Next"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"adfs",src:s(68045).Z+"",width:"756",height:"612"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"adfs",src:s(54245).Z+"",width:"758",height:"618"})}),"\n",(0,i.jsx)(n.p,{children:"Enable allatclaims, email, openid and profile scopes and then click Next"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"adfs",src:s(52781).Z+"",width:"756",height:"614"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"adfs",src:s(97947).Z+"",width:"756",height:"614"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"adfs",src:s(85118).Z+"",width:"760",height:"620"})}),"\n",(0,i.jsx)(n.p,{children:"Double click on an application group you just created previously"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"adfs",src:s(16725).Z+"",width:"764",height:"852"})}),"\n",(0,i.jsx)(n.p,{children:"Double click on Web API and then click Issuance Transform Rules tab"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"adfs",src:s(59348).Z+"",width:"760",height:"850"})}),"\n",(0,i.jsx)(n.p,{children:'Click Add Rule... and select "Send LDAP Attributes as Claims" and then click Next'}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"adfs",src:s(4632).Z+"",width:"762",height:"620"})}),"\n",(0,i.jsx)(n.p,{children:"Enter a Claim rule name, choose Active Directory as the Attribute store and provide the mapping of LDAP attributes to outgoing claim types as below"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Token-Groups \u2013 Unqualified Names -> groups"}),"\n",(0,i.jsx)(n.li,{children:"User-Principal-Name -> preferred_username"}),"\n",(0,i.jsx)(n.li,{children:"E-Mail-Address -> email"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"adfs",src:s(40468).Z+"",width:"762",height:"620"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"adfs",src:s(50745).Z+"",width:"760",height:"846"})}),"\n",(0,i.jsx)(n.h4,{id:"neuvector-setup",children:"NeuVector Setup"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Identity Provider Issuer: https://<adfs-fqdn>/adfs"}),"\n",(0,i.jsx)(n.li,{children:'Client ID: It is a "Client Identifier" showing in "Server application" dialog in "Add Application Group Wizard"'}),"\n",(0,i.jsx)(n.li,{children:'Client Secret: It is a Secret showing in "Configure Application Credentials" dialog in "Add Application Group Wizard"'}),"\n",(0,i.jsx)(n.li,{children:"Group Claim: groups"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"adfs",src:s(41421).Z+"",width:"1161",height:"461"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"adfs",src:s(83199).Z+"",width:"758",height:"896"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"adfs",src:s(86326).Z+"",width:"756",height:"824"})})]})}function p(e={}){const{wrapper:n}={...(0,t.a)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},61742:(e,n,s)=>{s.d(n,{Z:()=>i});const i=s.p+"assets/images/adfs1-7989550c776e65a7b35c13059bbe3d00.png"},16725:(e,n,s)=>{s.d(n,{Z:()=>i});const i=s.p+"assets/images/adfs10-4a2af3697f9f7fd7603fdcffb5f929d8.png"},59348:(e,n,s)=>{s.d(n,{Z:()=>i});const i=s.p+"assets/images/adfs11-88d91b8de2af77b3fbc80caad3e9f7e1.png"},4632:(e,n,s)=>{s.d(n,{Z:()=>i});const i=s.p+"assets/images/adfs12-247e36df8d097a822f965e9e8b0a48ee.png"},40468:(e,n,s)=>{s.d(n,{Z:()=>i});const i=s.p+"assets/images/adfs13-a4fea85ad168d78e84f2f0f26bfd5a2b.png"},50745:(e,n,s)=>{s.d(n,{Z:()=>i});const i=s.p+"assets/images/adfs14-cffad141658f98f74260e83a25bd5b18.png"},41421:(e,n,s)=>{s.d(n,{Z:()=>i});const i=s.p+"assets/images/adfs15-a134584d614d358dc544860ec2b44324.png"},83199:(e,n,s)=>{s.d(n,{Z:()=>i});const i=s.p+"assets/images/adfs16-a2cb24aae37c8bff896fbe32b74d280e.png"},86326:(e,n,s)=>{s.d(n,{Z:()=>i});const i=s.p+"assets/images/adfs17-456bd46e68c504e13c107001fed08f87.png"},23017:(e,n,s)=>{s.d(n,{Z:()=>i});const i=s.p+"assets/images/adfs2-11311a7b15cd458773a29b7d9b9cec70.png"},72635:(e,n,s)=>{s.d(n,{Z:()=>i});const i=s.p+"assets/images/adfs3-a9c494ef6a03f54f3fa4b758624ad705.png"},43142:(e,n,s)=>{s.d(n,{Z:()=>i});const i=s.p+"assets/images/adfs4-19b8fc943df043e7f4c9ac888f62426d.png"},68045:(e,n,s)=>{s.d(n,{Z:()=>i});const i=s.p+"assets/images/adfs5-cb5d878e0022cfe597f922bf3975db49.png"},54245:(e,n,s)=>{s.d(n,{Z:()=>i});const i=s.p+"assets/images/adfs6-086d68ad38b034da381c9e90953d5a59.png"},52781:(e,n,s)=>{s.d(n,{Z:()=>i});const i=s.p+"assets/images/adfs7-64b3fb80da56f70f0732db131dd35417.png"},97947:(e,n,s)=>{s.d(n,{Z:()=>i});const i=s.p+"assets/images/adfs8-20f302207b3da782b636e812f10baf9a.png"},85118:(e,n,s)=>{s.d(n,{Z:()=>i});const i=s.p+"assets/images/adfs9-8d9bb93680ee4c0a9e279dea1acc5e8c.png"},11151:(e,n,s)=>{s.d(n,{Z:()=>c,a:()=>d});var i=s(67294);const t={},a=i.createContext(t);function d(e){const n=i.useContext(a);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:d(e.components),i.createElement(a.Provider,{value:n},e.children)}}}]);